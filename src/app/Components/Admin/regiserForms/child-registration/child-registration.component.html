<div class="main">
  <div class="card">
    <div class="card-header">
      <h2>Register Child</h2>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit(childForm)" #childForm="ngForm" class="needs-validation" novalidate>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="fullName" class="form-label">Full Name</label>
            <input name="fullName" [(ngModel)]="child.full_name" class="form-control" required />
            <div *ngIf="childForm.submitted && childForm.controls['fullName']?.invalid" class="text-danger">
              Full Name is required.
            </div>
          </div>
          <div class="col-md-6">
            <label for="birthDate" class="form-label">Birth Date</label>
            <input name="birthDate" [(ngModel)]="child.birthdate" type="date" class="form-control" required />
            <div *ngIf="childForm.submitted && childForm.controls['birthDate']?.invalid" class="text-danger">
              Birth Date is required and must be a valid date.
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="placeOfBirth" class="form-label">Place of Birth</label>
            <input name="placeOfBirth" [(ngModel)]="child.place_of_birth" class="form-control" required />
            <div *ngIf="childForm.submitted && childForm.controls['placeOfBirth']?.invalid" class="text-danger">
              Place of Birth is required.
            </div>
          </div>
          <div class="col-md-6">
            <label for="gender" class="form-label">Gender</label>
            <select name="gender" [(ngModel)]="child.gender" class="form-control" required>
              <option value="" disabled selected>Select Gender</option>
              <option value="male">male</option>
              <option value="female">female</option>
            </select>
            <div *ngIf="childForm.submitted && childForm.controls['gender']?.invalid" class="text-danger">
              Gender is required.
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-12">
            <label for="currentResidence" class="form-label">Current Residence</label>
            <input name="currentResidence" [(ngModel)]="child.current_residence" class="form-control" required />
            <div *ngIf="childForm.submitted && childForm.controls['currentResidence']?.invalid" class="text-danger">
              Current Residence is required.
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-12">
            <label for="photo" class="form-label">Photo</label>
            <input name="photo" type="file" (change)="onFileChange($event)" class="form-control" required />
            <div *ngIf="childForm.submitted && !selectedFile" class="text-danger">
              Photo is required.
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit and Finish</button>
        <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
      </form>
    </div>
  </div>
</div>
